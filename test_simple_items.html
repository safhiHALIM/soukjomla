<!DOCTYPE html>
<html>
<head>
    <title>Test Simple Items</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body class="container mt-5">
    <h3>Test Simple - Affichage du nombre d'articles</h3>
    <p>Si ce test fonctionne, le problème vient du cache du navigateur.</p>

    <table class="table">
        <thead>
            <tr><th>Commande</th><th>Articles (Simple)</th><th>Articles (Avec Badge)</th></tr>
        </thead>
        <tbody id="results"></tbody>
    </table>

    <script>
        // Simule les données du backend
        const orders = [
            { id: 17, total_items_quantity: 37 },
            { id: 16, total_items_quantity: 1 },
            { id: 15, total_items_quantity: 0 },
            { id: 14, total_items_quantity: null }
        ];

        const tbody = document.getElementById('results');
        tbody.innerHTML = orders.map(order => `
            <tr>
                <td>#${order.id}</td>
                <td><strong>${order.total_items_quantity || 0} article(s)</strong></td>
                <td><span class="badge bg-info">${order.total_items_quantity || 0} article(s)</span></td>
            </tr>
        `).join('');
    </script>

    <div class="alert alert-info mt-3">
        <strong>Si vous voyez les bons nombres (37, 1, 0, 0), alors le code fonctionne !</strong><br>
        Le problème vient du cache du navigateur dans le panel admin.
    </div>
</body>
</html>